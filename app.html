<html>
 <head>
  <style>
body{
   background: #000;
 text-align: center;
    padding-top: 7em;
   }
   #logo{
    width: 40%;
    max-width: 500px;
   }
   #download{        
    margin-top: 10%;
    font: status-bar;
    font-size: 2.7vw;
    background: rgb(224, 194, 112);
    padding: 2%;
    border-radius: 5px;
    display: inline-block;
    color: #000;
    box-sizing: border-box;
    width: 35%;
    max-width: 440px;
    cursor: pointer;
   }
   #google-play{
    width: 40%;
    max-width: 500px;
    cursor: pointer;
   }
   #note{
        color: black;
    background: white;
    border-radius: 1px;
    padding: 3%;
    margin: 3%;
    font-family: monospace;
   }
   #note p{
    font-size: 1.5em;
   }
   #note-store{
    font: status-bar;
    font-size: 2.7vw;
    background: white;
    padding: 1.7vw;
    border-radius: 2px;
    display: inline-block;
    color: #000;
    cursor: pointer;
    border: 2px solid #000;
    margin: 2%;
   }
   #note-download{
    font: status-bar;
    font-size: 2.7vw;
    background: rgb(224, 194, 112);
    padding: 1.7vw;
    border-radius: 2px;
    display: inline-block;
    color: #000;
    cursor: pointer;
    border: 2px solid rgb(224, 194, 112);
    margin: 2%;
   }
</style>
 </head>
<body>
<img id="logo" src="./Logo splash png.png">
<div id="text">detecting device..</div>
<script src="./js-file-downloader.min.js"></script>
<script>
 /**
 * Determine the mobile operating system.
 * This function returns one of 'iOS', 'Android', 'Windows Phone', or 'unknown'.
 *
 * @returns {String}
 */
function getMobileOperatingSystem() {
  var userAgent = navigator.userAgent || navigator.vendor || window.opera;

      // Windows Phone must come first because its UA also contains "Android"
    if (/windows phone/i.test(userAgent)) {
        return "Windows Phone";
    }

    if (/android/i.test(userAgent)) {
        return "Android";
    }

    // iOS detection from: http://stackoverflow.com/a/9039885/177710
    if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
        return "iOS";
    }

    return "unknown";
}  
var store = function(){
 window.open("https://play.google.com/store/apps/details?id=com.dietchallenge")
}
var download = function(){
 new jsFileDownloader({ url: 'http://gorilla.fitness/gorillaFit.apk' })
    .then(function () {
      // Called when download ended
    })
    .catch(function (error) {
      // Called when an error occurred
    });
}
var googleplay = function(){
 
 document.getElementById("text").innerHTML = '<br><br><div id="note"><p>*Please note that the app might not be available in your country on Google play store as they are taking more time to review apps due to adjusted work schedules at this time.</p></div>'

 document.getElementById("note").innerHTML += '<div id="note-store" onclick="javascript:store();">Go to Play Store</div><div id="note-download" onclick="javascript:download();">Download app directly</div>'

}


var platform = getMobileOperatingSystem()
if(platform == "Windows Phone") document.getElementById("text").innerHTML = "sorry, diet challenge app currently doesn't support windows phones"
if(platform == "iOS") document.getElementById("text").innerHTML = "sorry, diet challenge app currently doesn't support IOS"
if(platform == "Android" || true) {
  //window.location = "https://play.google.com/store/apps/details?id=com.dietchallenge"
  //window.location = "http://gorilla.fitness/gorillaFit.apk"
 
  document.getElementById("text").innerHTML = '<br><br><div id="download" onclick="javascript:download();">download latest app</div>'
  document.getElementById("text").innerHTML += '<br><img id="google-play" onclick="javascript:googleplay();" src="google-play-badge.png">'
}
</script>

</body>
</html>
